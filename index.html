<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!-- Core -->
    <script src="plugins/animationpolyfill.js"></script>
    <script src="core/physx/particles/particle.js"></script>
    <script src="core/physx/particles/damper.js"></script>
    <script src="core/physx/particles/simulation.js"></script>
    <script src="core/physx/particles/emitter.js"></script>
    <script src="core/physx/particles/render.js"></script>
    <script src="core/physx/particles/renderconfig.js"></script>
    <script src="core/physx/particles/render.js"></script>
    <script src="core/physx/particles/vector.js"></script>

    <script>
        var L        = window.LibreJs = window.LibreJs || {};
        var Plugins  = L.Plugins      = L.Plugins      || {};
        var Physx  = Plugins.Physx = Plugins.Physx || {};
        var Particles  = Plugins.Physx.Particles = Plugins.Physx.Particles   || {};
    </script>
    <title>Particles</title>
    <style>
        canvas {
            background-color: rgba(200,200,200,.25);
        }
    </style>
</head>
<body>
<canvas id="demo" width="600" height="300"></canvas>
<form id="settings-inputs">
    <fieldset>
        <legend>Particle</legend>
        <label>Life (s), (eternal) 0<input id="particle-life" type="range" min="0" max="10" step="1" value="5">10<span id="particle-life-value"></span></label><br>

    </fieldset>
    <fieldset>
        <legend>Field</legend>
        <label>X<input id="damper-x" type="range" min="0" max="600" step="1" value="300"></label><br>
        <label>Y<input id="damper-y" type="range" min="0" max="300" step="1" value="150"></label><br>
        <label>Mass, (repulsif) -200<input id="damper-mass" type="range" min="-200" max="200" step="1" value="-200">(attractif) 200<span id="damper-mass-value"></span></label><br>
    </fieldset>
    <fieldset>
        <legend>Emitter</legend>
        <label>Max particules<input id="emitter-max" type="range" min="1" max="2000" step="1" value="500">2000<span id="emitter-max-value"></span></label><br>
    </fieldset>

</form>
<script>
(function(window) {
/*
    var canvas, ctx, particle, particles, bounds, simulation,render, damper, emitter,emitter2;
    canvas = window.document.getElementById("demo");
    ctx = canvas.getContext("2d");

    damper = new Particles.Damper(new Particles.Vector(300,150),-200);

    bounds = new Particles.Vector(canvas.width,canvas.height);

    simulation = new Particles.Simulation([], [damper],bounds);
    render = new Particles.Render(canvas,simulation);

    emitter = new Particles.Emitter(
            new Particles.Vector(300,0),
            new Particles.Vector(0,2),
            Math.PI/32,

            500,

            1
    );



    emitter2 = new Particles.Emitter(new Particles.Vector(590,150),new Particles.Vector(-2,0));
    simulation.attachEmitter(emitter);
    simulation.attachEmitter(emitter2);


    canvas.addEventListener('mousemove',function(evt){
        var p = getPosition(evt);
        simulation.emitters[0].move(new Particles.Vector(p.x, p.y));
    });


    var draw = function(timestamp) {
        setTimeout(function() {
            requestAnimationFrame(draw);
            simulation.step(timestamp);
            render.draw();
            damper.draw(ctx);
        },1000/60);
    };
    //draw();
*/
})(window);
</script>
<script src="demos/demo.js"></script>
</body>
</html>