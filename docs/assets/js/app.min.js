!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=14)}([function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return r}));const s=180/Math.PI;Math.__proto__.radiansToDegrees||(Math.__proto__.radiansToDegrees=t=>t*s),Math.__proto__.degreesToRadians||(Math.__proto__.degreesToRadians=t=>t*s);class n{static instanceofVector(t){if(!(t instanceof a)){throw new TypeError("Arg is not an instance of Vector2D, input type was "+typeof t)}}static validate(...t){t.forEach(t=>{n.instanceofVector(t)})}}var r=n;class a{setX(t){return this._x=t,this}getX(){return this._x}setY(t){return this._y=t,this}getY(){return this._y}set(t,e){return this.setX(t),this.setY(e),this}static fromArray(t=[]){if(t=t||[],!Array.isArray(t))throw new TypeError(`Vector.fromArray() arg is not an array, type was '${typeof t}'`);return new a(t[0]||0,t[1]||0)}static fromObject(t){return new a((t=t||{}).x||0,t.y||0)}constructor(t=0,e=0){this.setX(t),this.setY(e)}add(t){return r.validate(t),this.setX(this.getX()+t.getX()),this.setY(this.getY()+t.getY()),this}addX(t){return this.setX(this.getX()+t),this}addY(t){return this.setY(this.getY()+t),this}static add(t,e){return r.validate(t,e),new a(t.getX()+e.getX(),t.getY()+e.getY())}static addX(t,e){return r.validate(t,e),new a(t.getX()+e.getX(),t.getY())}static addY(t,e){return r.validate(t,e),new a(t.getX(),t.getY()+e.getY())}addScalar(t){return this.addX(t),this.addY(t),this}static addScalar(t,e){return r.validate(t),t.addX(e),t.addY(e),t}substractScalarX(t){return this.setX(this.getX()-t),this}substractScalarY(t){return this.setY(this.getY()-t),this}substract(t){return r.validate(t),this.substractScalarX(t.getX()),this.substractScalarY(t.getY()),this}static substract(t,e){return r.validate(t,e),new a(t.getX()-e.getX(),t.getY()-e.getY())}multiply(t){return r.validate(t),this.multiplyX(t),this.multiplyY(t),this}multiplyX(t){return r.validate(t),this.setX(this.getX()*t.getX()),this}multiplyY(t){return r.validate(t),this.setY(this.getY()*t.getY()),this}static multiply(t,e){return r.validate(t,e),new a(t.getX()*e.getX(),t.getY()*e.getY())}divide(t){return r.validate(t),this._x=this.getX()/t.getX(),this._y=this.getY()/t.getY(),this}divideScalar(t){return this.setX(this.getX()/t),this.setY(this.getY()/t),this}divideScalarX(t){const e=this.getX()/t;return this.setX(e),this}divideScalarY(t){return this.setY(this.getY()/t),this}static divide(t,e){return r.validate(t,e),new a(t.getX()/e.getX(),t.getY()/e.getY())}dot(t){return r.validate(t),this.getX()*t.getX()+this.getY()*t.getY()}static dot(t,e){return r.validate(t,e),t.getX()*e.getX()+t.getY()*e.getY()}cross(t){return r.validate(t),this.getX()*t.getY()-this.getY()*t.getX()}static cross(t,e){return r.validate(t,e),t.getX()*e.getY()-t.getY()*e.getX()}magnitude(){return Math.sqrt(this.dot(this))}static magnitude(t,e){return r.validate(t,e),Math.sqrt(a.dot(t,e))}magnitudeSq(){return Math.pow(this.getX(),2)+Math.pow(this.getY(),2)}static magnitudeSq(t){return r.validate(t),Math.pow(t.getX(),2)+Math.pow(t.getY(),2)}horizontalAngle(){return Math.atan2(this.getY(),this.getX())}angle(){return this.horizontalAngle()}rotate(t){return this._x=this.getX()*Math.cos(t)-this.getY()*Math.sin(t),this._y=this.getX()*Math.sin(t)+this.getY()*Math.cos(t),this}rotateDegrees(t){return this.rotate(Math.degreesToRadians(t)),this}rotateBy(t){return this.rotate(this.angle()+t)}rotateByDegrees(t){return this.rotateBy(this.angle()+Math.radiansToDegrees(t))}xlt(t){return this.getX()<t.getX()}ylt(t){return this.getY()<t.getY()}lt(t){return this.xlt(t)&&this.ylt(t)}xle(t){return this.getX()<=t.getX()}yle(t){return this.getY()<=t.getY()}le(t){return this.xle(t)&&this.yle(t)}xgt(t){return this.getX()>t.getX()}ygt(t){return this.getY()>t.getY()}gt(t){return this.xgt(t)&&this.ygt(t)}xge(t){return this.getX()>=t.getX()}yge(t){return this.getY()>=t.getY()}ge(t){return this.xle(t)&&this.yle(t)}clamp(t,e,i=!0){return r.validate(t),r.validate(e),i?(this.getX()<t.getX()&&this.setX(t.getX()),this.getX()>e.getY()&&this.setX(e.getY()),this.getY()<t.getY()&&this.setY(t.getY()),this.getY()>e.getY()&&this.setY(e.getY())):(this.getX()<=t.getX()&&this.setX(t.getX()),this.getX()>=e.getY()&&this.setX(e.getY()),this.getY()<=t.getY()&&this.setY(t.getY()),this.getY()>=e.getY()&&this.setY(e.getY())),this}clone(){return new a(this.getX(),this.getY())}toArray(){return[this.getX(),this.getY()]}toString(t=","){return this.toArray().join(t)}toObject(){return{x:this.getX(),y:this.getY()}}round(){this.setX(Math.round(this._x)),this.setY(Math.round(this._y))}floor(){this.setX(Math.floor(this._x)),this.setY(Math.floor(this._y))}copy(t){return r.validate(t),this.setX(t.getX()),this.setY(t.getY()),this}equals(t){return r.validate(t),this.getX()===t.getX()&&this.getY()===t.getY()}static equals(t,e){return r.validate(t,e),t.getX()===e.getX()&&t.getY()===e.getY()}zero(){return this.setX(0),this.setY(0),this}static zero(t){r.validate(t),t._x=0,t._y=0}isZero(){return 0===this.getX()&&0===this.getY()}static isZero(t){return r.validate(t),0===t.getX()&&0===t.getY()}length(){return this.magnitude()}static length(t,e){return r.validate(t,e),a.magnitude(t,e)}negative(){return this.setX(-this.getX()),this.setY(-this.getY()),this}negativeX(){return this.setX(-this.getX()),this}negativeY(){return this.setY(-this.getY()),this}static negative(t){return r.validate(t),new a(-t.getX(),-t.getY())}distanceX(t){return r.validate(t),this.getX()-t.getX()}distanceAbs(t){return r.validate(t),new a(this.distanceXAbs(t),this.distanceYAbs(t))}distanceXAbs(t){return r.validate(t),Math.abs(this.distanceX(t))}distanceY(t){return r.validate(t),this.getY()-t.getY()}distanceYAbs(t){return r.validate(t),Math.abs(this.distanceY(t))}distance(t){return r.validate(t),Math.sqrt(this.distanceSq(t))}distanceSq(t){return r.validate(t),this.distanceX(t)*this.distanceX(t)+this.distanceY(t)*this.distanceY(t)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));class s extends class{getCtx(t=null,e={}){return this._canvas.getContext(t,e)}constructor(t){this._canvas=t}_clear(...t){}draw(...t){this.getCtx().save(),this._clear(t),this._draw(t),this.getCtx().restore()}_draw(...t){}}{getCtx(t="2d",e={alpha:!0}){return this._canvas.getContext(t,e)}_clear(...t){this.getCtx().clearRect(0,0,this._canvas.width,this._canvas.height)}_draw(...t){}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(0);class n{getPosition(){return this._position}setPosition(t){return this._position=t}getVelocity(){return this._velocity}setVelocity(t){return this._velocity=t,this}getAcceleration(){return this._acceleration}setAcceleration(t){return this._acceleration=t,this}getMass(){return this._mass}constructor(t=null,e=null,i=null,n=-1){this._position=t||new s.a,this._velocity=e||new s.a,this._acceleration=i||new s.a,this._life=n,this._birth=this.isEternal()?null:performance.now(),this._death=this.isEternal()?null:this._birth+n,this._mass=10}isEternal(){return-1===this._life}isAlive(){return!!this.isEternal()||performance.now()<=this._death}stop(){this._velocity=this._velocity.zero(),this._acceleration=this._acceleration.zero()}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(1);i(0);class n extends s.a{_draw(...t){const e=t[0][0];this.getCtx().beginPath(),this.getCtx().fillStyle="rgba(0,0,0,1)",this.getCtx().arc(e.getPosition().getX(),e.getPosition().getY(),15,0,2*Math.PI,!1),this.getCtx().fill()}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i(0),i(2);class s{static move(t){t.getVelocity().add(t.getAcceleration()),t.getPosition().add(t.getVelocity()),t.getAcceleration().zero()}static force(t,e){t.getAcceleration().add(e)}static forceWithMass(t,e){e.divideScalar(.1*t.getMass()),s.force(t,e)}static friction(t,e=.01){const i=t.getVelocity();i.negative(),i.multiply(e),s.force(t,i)}static fluidResistance(){}static gravitational(){}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(0);class n{getMin(){return this._min}getXMin(){return this._min.getX()}getYMin(){return this._min.getY()}getMax(){return this._max}getXMax(){return this._max.getX()}getYMax(){return this._max.getY()}constructor(t=null,e=null){s.b.validate(t),s.b.validate(e),this._min=t,this._max=e}_inBoundsX(t){const e=new s.a(t);return e.xge(this._min)&&e.xle(this._max)}_inBoundsXStrict(t){const e=new s.a(t);return e.xgt(this._min)&&e.xlt(this._max)}inBoundsX(t,e=!0){return e?this._inBoundsXStrict(t):this._inBoundsX(t)}_inBoundsY(t){const e=new s.a(0,t);return e.yge(this._max)&&e.yle(this._max)}_inBoundsYStrict(t){const e=new s.a(0,t);return e.ygt(this._max)&&e.ylt(this._max)}inBoundsY(t,e=!0){return e?this._inBoundsYStrict(t):this._inBoundsY(t)}_inBoundsStrict(t){return s.b.validate(t),this._inBoundsXStrict(t.getX())&&this._inBoundsYStrict(t.getY())}_inBounds(t){return s.b.validate(t),this._inBoundsX(t.getX())&&this._inBoundsY(t.getY())}inBounds(t,e=!0){return s.b.validate(t),e?this._inBoundsStrict(t):this._inBounds(t)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(1);class n extends s.a{}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(1);class n extends s.a{_draw(...t){const e=t[0];this.getCtx().fillStyle="black",this.getCtx().fillRect(8,0,36,14),this.getCtx().fillStyle="white",this.getCtx().font="normal 12px Arial",this.getCtx().fillText(e+" fps",10,10)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(1);i(0);class n extends s.a{_draw(...t){const e=t[0][0];this.getCtx().beginPath(),this.getCtx().strokeStyle="rgba(255,0,0,1)",this.getCtx().moveTo(0,600),this.getCtx().lineTo(e.getPosition().getX(),e.getPosition().getY())}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i(0);var s=i(3);class n extends s.a{_draw(...t){const e=t[0][0].getPosition();this.getCtx().beginPath(),this.getCtx().fillStyle="rgba(0,0,0,1)",this.getCtx().arc(e.getX(),e.getY(),15,0,2*Math.PI,!1),this.getCtx().fill()}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i(0),n=i(4);class r{getSubjects(){return this._particles}pushSubject(t){this._particles.push(t)}constructor(t){this._bounds=t,this._particles=[]}inBounds(t){return this._bounds.inBounds(t.getPosition(),!1)}garbageCollector(){let t=[];this._particles.forEach(e=>{e.isAlive()||t.push(e)}),this._particles=this._particles.filter(e=>!t.includes(e))}step(){this.garbageCollector(),this._particles.forEach(t=>{this._bounds.inBoundsX(t.getPosition().getX())||(t.getPosition().getX()>this._bounds.getXMax()&&t.getPosition().set(this._bounds.getXMax(),t.getPosition().getY()),t.getPosition().getX()<this._bounds.getXMin()&&t.getPosition().set(this._bounds.getXMin(),t.getPosition().getY()),t.getVelocity().negativeX()),this._bounds.inBoundsY(t.getPosition().getY())||(t.getPosition().getY()>this._bounds.getXMax()&&t.getPosition().set(t.getPosition().getX(),this._bounds.getXMax()),t.getPosition().getY()<this._bounds.getXMin()&&t.getPosition().set(t.getPosition().getX(),this._bounds.getXMin()),t.getVelocity().negativeY()),n.a.force(t,new s.a(0,2)),n.a.forceWithMass(t,new s.a(0,2)),n.a.move(t)})}}},,,,function(t,e,i){"use strict";i.r(e);var s=i(0);class n{constructor(){this._lastCall=performance.now(),this._interval=1e4}_getDelta(t){return(t-this._lastCall)/1e3}get(){const t=performance.now(),e=(t-this._lastCall)/1e3;return this._lastCall=t,Math.round(1/e)}}var r=i(5),a=i(2),o=i(10),h=i(6),g=i(7),u=i(9),c=i(1);class l extends c.a{setGrid(t=40,e=40,i=0,s="black"){return this._gridSizeX=t,this._gridSizeY=e,this._padding=i,this._color=s,this}_draw(...t){const e=this.getCtx();for(let t=0;t<=e.canvas.width;t+=this._gridSizeX)e.moveTo(.5+t+this._padding,this._padding),e.lineTo(.5+t+this._padding,e.canvas.height+this._padding);for(let t=0;t<=e.canvas.height;t+=this._gridSizeY)e.moveTo(this._padding,.5+t+this._padding),e.lineTo(e.canvas.width+this._padding,.5+t+this._padding);return e.strokeStyle=this._color,e.stroke(),this}}var d=i(8);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("layer0"),e=new h.a(t,{alpha:!1}),i=new u.a(t,{alpha:!1}),c=new g.a(t),_=new l(t),Y=new r.a(new s.a(0,0),new s.a(600,600)),X=new o.a(Y),v=(new d.a(t),(t,e)=>{const i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}});t.addEventListener("mousemove",e=>{const i=v(t,e);m.getPosition().setX(i.x),m.getPosition().setY(i.y)}),t.addEventListener("click",e=>{const i=v(t,e);console.log(i.x,i.y)});const f=new n,x=new s.a(0,600),y=new s.a(-5,10),p=()=>2*Math.round(Math.random())-1,w=t=>Math.floor(Math.random()*Math.floor(t));for(let t=0;t<100;t++){const t=new s.a(w(x.getY()),w(x.getY())),e=new s.a(w(y.getY())*p(),w(y.getY())*p()),i=new a.a(t,e,new s.a(0,0));X._particles.push(i)}new a.a(new s.a(0,600));const m=new a.a(new s.a(120,480)),b=()=>{setTimeout(()=>{e.draw(),_.setGrid(60,60,0,"rgba(0,0,0, 1)").draw(),X.step(),X._particles.forEach(t=>{i.draw(t)}),c.draw(f.get()),requestAnimationFrame(b)},1)};requestAnimationFrame(b);setTimeout(()=>{c.draw(f.get())},1e3)})}]);